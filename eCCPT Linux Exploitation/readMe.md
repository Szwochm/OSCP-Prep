# Information Gathering

## 1/11/2023

Linux NFS shares directories using "exports". Exports can be found in `/etc/exports`

You can show all of the shared directories of a host by using `showmount -e <target>`

If you are able to mount it, you can do so using `mount -t nfs <ip>:/<mountable path> -o nolock`

nolock may be needed to connect to older NFS systems

Nfs uses advisory locking. This means the OS keeps track of which files are locked by process but does not stop them from writing to a locked file

Smb uses mandatory locking

We can view all mounted media by using `mount`

Microsofts rpc and Linux rpc are not the same. You can enumerate portmapper (linux rpc) using `rpcinfo`

`nmap --script rpc-grind,rpcinfo <target> -p 111`

or

rpcinfo -p <target>

Samba is the linux version of smb and recent versions are compatible inside AD domains.

Samba listens on the same ports as NetBios (138 +139 TCP/UDP, 445 TCP)

Obtain share information, workgroup and netbios names using `smbclient -L <IP>`
  
access a share using smbclient \\\\<ip>\\<share>
  
Hit enter at password prompt for anonymous access
  
`smbmap -H <ip>` to enumerate permissions for shares
  
alternatively `mount -f cifs \\\\<ip>\\<share> <path to mount point>`
  
Enumate Smb users using rpc client `rpcclient -U "" <ip> -N` -> `lookupnames <name>`
  
  
  
  
  
  
